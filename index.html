<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Voc Bercher Â· Ã‰lÃ¨ve</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="app-shell">
    <header class="topbar">
      <div class="logo">Voc ğŸ‡©ğŸ‡ª Bercher</div>
      <div class="top-actions">
        <a class="pill-link" href="help.html" title="Aide / mode d'emploi">â„¹ï¸</a>
        <a class="pill-link" href="sos.mp4" title="VidÃ©o SOS" target="_blank" rel="noopener">ğŸ†˜</a>
        <a class="pill-link" href="phonetique.pdf" title="PhonÃ©tique" target="_blank" rel="noopener">ğŸ’¬</a>
      </div>
    </header>

    <main>
      <section id="student" class="tab-panel active">
        <div class="card" id="selection-card">
         <div class="filters-row">
            <div class="field">
              <label for="folder-filter">Dossier</label>
              <select id="folder-filter"></select>
            </div>
            <div class="field">
              <label for="list-selector">Liste</label>
              <select id="list-selector"></select>
              <div class="inline-help" id="list-meta"></div>
            </div>
          </div>

          <div class="button-row" style="margin-bottom:8px; flex-wrap: wrap;">
            <button class="btn" id="start-learning" type="button">Lancer l'entraÃ®nement</button>
            <button class="btn secondary" id="clear-selection" type="button">Tout dÃ©sÃ©lectionner</button>
            <button class="btn secondary" id="toggle-colors" type="button" style="padding:10px 12px; min-width:42px;">ğŸ¨</button>
            <div class="tag-dots hidden" id="global-tags" style="margin-left:auto; gap:8px;">
              <button class="tag-dot tag-blue" data-tag="blue" title="Bleu">M</button>
              <button class="tag-dot tag-pink" data-tag="pink" title="Rose">F</button>
              <button class="tag-dot tag-green" data-tag="green" title="Vert">N</button>
              <button class="tag-dot tag-red" data-tag="red" title="Rouge">V</button>
              <button class="tag-dot" data-tag="black" title="Noir">X</button>
            </div>

          </div>

          <p class="muted">P = Passif ğŸ‡©ğŸ‡ª-->ğŸ‡«ğŸ‡·   |    A = Actif ğŸ‡©ğŸ‡ª<-->ğŸ‡«ğŸ‡· </p>
          <div id="selection-counter" class="muted" style="font-weight:600; margin:4px 0 10px;"></div>
          <div class="divider"></div>
          <div class="word-selection" id="word-selection"></div>
        </div>

        <div id="passive-screen" class="card game-card" style="display:none;">
          <div class="card-title">
            <div>
                    <h3>Phase 1 : <span id="passive-step-label"></span></h3>
            </div>
            <div class="button-row">
              <button class="btn secondary" id="back-to-list-passive">Quitter</button>
            </div>
          </div>
          <div class="progress-label">
            <span id="passive-step-label"></span>
          </div>
          <div class="progress-shell"><div class="progress-fill" id="passive-progress"></div></div>
          <div class="step-dots" id="passive-dots"></div>
          <div class="word-display" id="german-word"></div>
           <div class="feedback" id="passive-feedback"></div>
           <div class="assembled" id="assembled-passive"></div>
          <div class="chunk-buttons" id="chunk-buttons"></div>
          <div class="button-row">
            <button class="btn secondary" id="undo-chunk">Effacer</button>
            <button class="btn" id="validate-passive">Valider</button>
          </div>
          
        </div>

        <div id="active-screen" class="card game-card" style="display:none;">
          <div class="card-title">
            <div>
              <h3>Phase 2 : <span id="active-step-label"></span></h3>
            </div>
            <div class="button-row">
              <button class="btn secondary" id="back-to-list-active">Quitter</button>
            </div>
          </div>
          <div class="progress-label">
          </div>
          <div class="progress-shell"><div class="progress-fill" id="active-progress"></div></div>
          <div class="step-dots" id="active-dots"></div>
          <div class="word-display" id="french-word"></div>
          <div class="feedback" id="active-feedback"></div>
          <div class="assembled" id="assembled-active"></div>
          <div class="letter-buttons" id="letter-buttons"></div>
          <div class="button-row">
            <button class="btn secondary" id="erase-letter">Effacer</button>
            <button class="btn" id="validate-active">Valider</button>
          </div>
          
        </div>

        <div id="final-screen" class="card final-screen" style="display:none;">
          <div class="trophy">ğŸ†</div>
          <h2>Bravo !</h2>
          <br>
          <p id="final-message"></p>
          <br>
          <p id="timer-result"></p>
          <div class="button-row" style="justify-content:center; margin-top:12px;">
            <button class="btn" id="restart">Revenir Ã  la sÃ©lection</button>
          </div>
        </div>
      </section>
      <div>Â© S.Bovat</div>
    </main>
  </div>

  <div id="answer-overlay" class="answer-overlay hidden">
    <div class="answer-box">
      <div class="answer-word" id="overlay-word"></div>
      <div class="answer-countdown" id="overlay-countdown"></div>
    </div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
